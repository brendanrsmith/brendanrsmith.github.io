<!DOCTYPE html><html lang="en" class="scroll-smooth"><head><title>Brendan Smith</title><meta charSet="utf8"/><meta name="description" content="Brendan Smith&#x27;s personal portfolio"/><meta name="keywords" content="HTML, CSS, JavaScript"/><meta name="author" content="Brendan Smith"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="icon" type="image/x-icon" href="favicon.ico"/><meta name="next-head-count" content="7"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="preload" href="/_next/static/css/4d832e0bcbe287d3.css" as="style" crossorigin=""/><link rel="stylesheet" href="/_next/static/css/4d832e0bcbe287d3.css" crossorigin="" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-f5a118fd35c249a1.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/framework-7271c69c5b349b2a.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/main-2bed2876e0756203.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/_app-77bfbd99e64f34df.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/247-547b7483e51687fa.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/ferryfriend-8c24e02c766cdc45.js" defer="" crossorigin=""></script><script src="/_next/static/YbQSX0xrv_js8NgLQlX7n/_buildManifest.js" defer="" crossorigin=""></script><script src="/_next/static/YbQSX0xrv_js8NgLQlX7n/_ssgManifest.js" defer="" crossorigin=""></script><style data-href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans&display=switch">@font-face{font-family:'IBM Plex Sans';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/ibmplexsans/v19/zYXgKVElMYYaJe8bpLHnCwDKtdU.woff) format('woff')}@font-face{font-family:'IBM Plex Sans';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/ibmplexsans/v19/zYXgKVElMYYaJe8bpLHnCwDKhdzeFaxOedfTDw.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'IBM Plex Sans';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/ibmplexsans/v19/zYXgKVElMYYaJe8bpLHnCwDKhdXeFaxOedfTDw.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'IBM Plex Sans';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/ibmplexsans/v19/zYXgKVElMYYaJe8bpLHnCwDKhdLeFaxOedfTDw.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'IBM Plex Sans';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/ibmplexsans/v19/zYXgKVElMYYaJe8bpLHnCwDKhd7eFaxOedfTDw.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'IBM Plex Sans';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/ibmplexsans/v19/zYXgKVElMYYaJe8bpLHnCwDKhd_eFaxOedfTDw.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'IBM Plex Sans';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/ibmplexsans/v19/zYXgKVElMYYaJe8bpLHnCwDKhdHeFaxOedc.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body><div id="__next"><div class="min-h-screen"><main class="m-4 mb-20"><a class="top-0 p-4 lg:sticky " href="/#portfolio">← Home</a><div class="mx-auto mt-6 max-w-prose "><h1 class="text-3xl font-light">FerryFriend 4</h1><h2 class="text-base">February 3, 2022</h2><div class="divide-y-2"><p class="my-8 rounded bg-cyan-100 p-3 italic dark:bg-neutral-700 "><strong>July 2022 Update:</strong> At long last, FerryFriend 4.0 for iOS has officially been released! Find it on the<!-- --> <a href="https://apps.apple.com/us/app/ferryfriend/id918755226" rel="noopener noreferrer">App Store</a>.</p><section class="mb-20"><h2 class="mb-2 mt-6 text-2xl font-light">Introduction</h2><div class="space-y-4 sm:ml-4"><p class="mb-4"><a href="https://www.ferryfriend.com/">FerryFriend</a>, currently in version 3.0, is the premier schedule app for the Washington State Ferries, with an average App Store rating of 5.0 and over 2000 reviews. However, the app, originally written in Swift, has to this point only been available for iOS. As usage grew, many Android users expressed their desire to see the app come to that platform.</p><p>I had the great opportunity to join the FerryFriend team for the development of an Android version of the app, originally conceived to be a standalone version alongside the existing iOS app (more on that later). Based on my previous experience with React Native, we decided it would be the best choice of framework to build the new version. The goal throughout the project was to emulate the functionality and aesthetic of the existing app, which provided a desing schematic to start from.</p><div class="flex justify-center "><div class="max-w-3xl "><img alt="FerryFriend 4.0" loading="lazy" width="1024" height="586" decoding="async" data-nimg="1" style="color:transparent" src="/images/ff/hero-long.png"/></div></div><h3 class="text-xl sm:-ml-4 ">Integrating with the WSF API</h3><p>Washington State (WSDOT) provides a number of<!-- --> <a href="https://www.wsdot.wa.gov/ferries/api/schedule/documentation/">useful APIs</a> <!-- -->for public access to ferry information. These form the backbone of the data used by FerryFriend to show schedules, alerts, fares, and vessel positions. Additionally, FerryFriend has its own public API which provides sailing delays (using its own prediction model), as well as reservation information and ticket lookups.</p><p>One of the challenges of the WSDOT API is that there are inconsistencies and proprietary data formats between the different routes. To handle these inconsistencies, we chose to implement a &quot;Provider&quot; model in order to preprocess all incoming WSF data into a common format used throughout the app. This model consists of 5 different WSF Api providers which retrieve data from the APIs using Axios. The results are stored in a local cache to reduce the total number of network requests, as well as aid in offline data storage.</p><p>A &quot;Data Manager&quot; then consumes these providers, packaging different data sources together for use in individual components, which consume the data via a global context reference. A subscriber model is used to continually check for schedule and delay updates while the app is focused, a particularly important feature for the time-sensitive data they represent. For example, the route schedule screen below consumes data from the WSF schedule provider (scheduled sailing times), WSF Reservation details provider (reservable space availability), WSF terminal info provider (drive-up spaces), FerryFriend predictions provider (delay predictions).</p><div class="grid grid-cols-2 gap-4"><div><img alt="Schedule screen" loading="lazy" width="750" height="1334" decoding="async" data-nimg="1" class="rounded" style="color:transparent" src="/images/ff/ff-schedule.jpeg"/><p class="text-sm">The schedule screen shows information for a single route on a single day...</p></div><div><img alt="Schedule screen data sources" loading="lazy" width="750" height="1334" decoding="async" data-nimg="1" class="rounded" style="color:transparent" src="/images/ff/schedule-context.png"/><p class="text-sm">...which consists of data derived from multiple sources</p></div></div></div></section><section class="mb-20"><h2 class="mb-2 mt-6 text-2xl font-light">FerryFriend Native becomes FerryFriend 4.0</h2><div class="space-y-4 sm:ml-4"><p>As the main functionality of the app began to come together, we gradually realized that the increase in maintainability, and ability of one code-base to support two separate native versions of the app would ultimately make the React Native version of the app a logical choice to become the new primary codebase for FerryFriend, necessitating a new major version of the iOS app as well. With this in mind, we began to implement several completely new features alongside the existing features from FerryFriend 3.0.</p><h3 class="text-xl sm:-ml-4">Improvements in user interface design</h3><p>One of the benefits of having an existing user base was the availability of plenty of user feedback on existing designs. Some of this feedback led to redesigns of user interaction elements. First up was the tab navigation interface:</p><div class="grid gap-4 sm:grid-cols-2"><div class=""><p>Before:</p><img alt="Old menu" loading="lazy" width="750" height="375" decoding="async" data-nimg="1" style="color:transparent" src="/images/ff/ff-old-menu.png"/><p class="text-sm">The original menu was functional, but dense user controls could be confusing and difficult to target.</p></div><div class=""><p>After:</p><img alt="New menu" loading="lazy" width="750" height="375" decoding="async" data-nimg="1" style="color:transparent" src="/images/ff/ff-menu.png"/><p class="text-sm">Using space freed up by the tab navigator, we were able to redesign the route top bar to increase legibility and simplify user interaction.<!-- --> </p></div><div class=""><img alt="tab navigator" loading="lazy" width="750" height="375" decoding="async" data-nimg="1" style="color:transparent" src="/images/ff/ff-tab.png"/><p class="text-sm">The tab navigator was moved from the upper margin of the route screen to the bottom, improving access with one hand.</p></div></div><p>Two of the most popular features on FerryFriend are the ferry line screen, and the vessel watch screen. We took care to improve the usability of these screens without drastically changing their layout.</p><div class="grid gap-4 sm:grid-cols-2"><div><img alt="camera screen" loading="lazy" width="750" height="1008" decoding="async" data-nimg="1" class="rounded" style="color:transparent" src="/images/ff/ff-camera.png"/><p class="text-sm">On the cameras screen, we improved touch targets on the carousel viewer and increased the legibility of the map.</p></div><div><img alt="vessel screen" loading="lazy" width="750" height="1008" decoding="async" data-nimg="1" class="rounded" style="color:transparent" src="/images/ff/ff-vessel.png"/><p class="text-sm">On the vessel view screen, we added additional vessel details to the vessel modal, with important details like vehicle and passenger capacity.</p></div></div><h3 class="text-xl sm:-ml-4">Dark Mode</h3><p>In response to another user request, we spent a good amount of time implementing a theming engine and thinking carefully about how to implement a dark mode well. Users are able to toggle this mode manually, or follow the system settings. I am quite happy with how this turned out.</p><div class="flex justify-center"><div class="max-w-sm"><img alt="New FerryFriend dark mode theme" loading="lazy" width="750" height="1334" decoding="async" data-nimg="1" class="rounded" style="color:transparent" src="/images/ff/ff-dark.jpeg"/><p class="text-sm">Easy on the eyes</p></div></div></div></section><section class="mb-20"><h2 class="mb-2 mt-6 text-2xl font-light">Favorites</h2><div class="space-y-4 sm:ml-4"><p>Favorite routes are a key feature for regular ferry users, and we wanted to find a way to show schedule prediction info for favorite routes directly on the home screen. Using the colors from route predictions to indicate severity of delay, we added badges to the existing favorite route component for a simple but effective solution.</p><div class="flex justify-center"><div class="max-w-sm"><img alt="favorites badge" loading="lazy" width="750" height="750" decoding="async" data-nimg="1" style="color:transparent" src="/images/ff/ff-favorites.png"/><p class="text-sm">Red-Yellow-Green provides quick visual confirmation of sailing delay status.</p></div></div></div></section><section class="mb-20"><h2 class="mb-2 mt-6 text-2xl font-light">Tickets</h2><div class="space-y-4 sm:ml-4"><p>Next up was a major redesign of the saved ticket display. This feature allows regular ferry riders to scan a Washington State Ferry ticket with the app, which then checks the WSF ticket API for remaining uses and expiry dates. The user can then show a representation of the physical ticket barcode at the ticketing booth, negating the need to carry a physical copy of every ticket they may own.</p><div class="grid gap-4 sm:grid-cols-2"><div><img alt="old ticket menu" loading="lazy" width="750" height="1334" decoding="async" data-nimg="1" class="rounded" style="color:transparent" src="/images/ff/ff-old-ticket.jpeg"/><p class="text-sm">The FerryFriend 3.0 ticket screen. Although functional, there was lots of room for improvement here.</p></div><div><img alt="new ticket screen" loading="lazy" width="750" height="1334" decoding="async" data-nimg="1" class="rounded" style="color:transparent" src="/images/ff/ff-ticket.jpeg"/><p class="text-sm">The new ticket screen shows all relevant information in one place, and emulates the look of a physical WSF ticket.</p></div></div><p>This stored digital ticket offers an opportunity to easily share tickets between users. With an implementation on Ferryfriend.com, we were able to use the link query string parameters to render a web based visualization of the same ticket, allowing anyone to utilize a shared FerryFriend ticket, even if they don&#x27;t have the app installed on their phone.<!-- --> <a target="_blank" href="https://www.ferryfriend.com/share_ticket/?barcode=5761680130777154343691&amp;type=An-FH%20Adult%20Passenger&amp;expiryDate=February%207%2C%202020&amp;remainingUses=0&amp;lastLookup=2022-02-03T02%3A10%3A31.435Z&amp;plu=761531221AWOPT&amp;description=An-FH%20Adult%20Passenger&amp;price=%2414.00&amp;status=Invalid&amp;itemName=Adult%20Psgr%20%28T%29&amp;name=My%20ticket%20" rel="noreferrer">See for yourself here</a>.</p><div class="flex justify-center"><div class="max-w-xl"><img alt="web ticket screen" loading="lazy" width="1376" height="1974" decoding="async" data-nimg="1" style="color:transparent" src="/images/ff/ff-web-tix.png"/><p class="text-sm">A web-based display of tickets allows ticket sharing to users who do not have the app installed.</p></div></div></div></section><section class="mb-20"><h2 class="mb-2 mt-6 text-2xl font-light">Testing</h2><div class="space-y-4 sm:ml-4"><p>As of this writing, FerryFriend 4.0 for Android is in public beta (<a href="https://play.google.com/store/apps/details?id=com.truecourse.FerryFriend">see it on the Play Store</a>). An iOS beta is coming soon! In the meantime,<!-- --> <a href="https://www.ferryfriend.com/">Check out the FerryFriend website.<!-- --> </a></p><p>This was a project of “firsts” for me: my first time working on a full-scale application, and my first project with a “real” user base. I am hugely grateful for the team at FerryFriend and the many hours of mentorship they provided over the course of this project, as well as their encouragement to take on new features and domains outside of my comfort zone. I am proud of what I helped make, and am looking forward to seeing what happens with the app in the future!</p></div></section></div></div></main><footer class=" py-3 text-center text-xs text-neutral-300 dark:text-neutral-600"><p>© <!-- -->2023<!-- --> Brendan Smith</p></footer></div></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{}},"page":"/ferryfriend","query":{},"buildId":"YbQSX0xrv_js8NgLQlX7n","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>